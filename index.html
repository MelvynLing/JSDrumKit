<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>JavaScript DrumKit!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />

</head>
<body>
    <!--row1-->
        <div class="keys">
        <!--1-->
            <div data-keycode="65" class="key">
                <!--the kbd tag below refers to the keyboard input tag.-->
                <kbd>A</kbd>
                <span class="sounds">clap</span>
            </div>
        <!--2-->
            <div data-keycode="83" class="key">
                <kbd>S</kbd>
                <span class="sounds">hi hat</span>
            </div>
        <!--3-->
            <div data-keycode="68" class="key">
                <kbd>D</kbd>
                <span class="sounds">kick</span>
            </div>
        <!--4-->
            <div data-keycode="70" class="key">
                <kbd>F</kbd>
                <span class="sounds">open hat</span>
            </div>
        </div>
    <!--row1 ends-->

    <!--row2-->
        <div class="keys2">
        <!--5-->
            <div data-keycode="71" class="key">
                <kbd>G</kbd>
                <span class="sounds">boom</span>
            </div>
        <!--6-->
            <div data-keycode="72" class="key">
                <kbd>H</kbd>
                <span class="sounds">ride</span>
            </div>
        <!--7-->
            <div data-keycode="74" class="key">
                <kbd>J</kbd>
                <span class="sounds">snare</span>
            </div>
        <!--8-->
            <div data-keycode="75" class="key">
                <kbd>K</kbd>
                <span class="sounds">tom</span>
            </div>
        <!--9-->
            <div data-keycode="76" class="key">
                <kbd>L</kbd>
                <span class="sounds">tink</span>
            </div>
        </div>
    <!--row2-->

<!--Sound files that will be access when keys are pressed-->    
<audio data-keycode="65" src='sounds/clap.wav'></audio>
<audio data-keycode="83" src='sounds/hihat.wav'></audio>
<audio data-keycode="68" src='sounds/kick.wav'></audio>
<audio data-keycode="70" src='sounds/openhat.wav'></audio>
<audio data-keycode="71" src='sounds/boom.wav'></audio>
<audio data-keycode="72" src='sounds/ride.wav'></audio>
<audio data-keycode="74" src='sounds/snare.wav'></audio>
<audio data-keycode="75" src='sounds/tom.wav'></audio>
<audio data-keycode="76" src='sounds/tink.wav'></audio>

<script>
//removes the transition
function removeTransition (e) {
    if (e.propertyName !== 'transform') return; //skip if its not a transform
    this.classList.remove('playing');
}
//plays the sound
function playSound (e) {
    const audio = document.querySelector(`audio[data-keycode="${e.keyCode}"]`);
    const key = document.querySelector(`.key[data-keycode="${e.keyCode}"]`);
    if(!audio) return; //stops function if key doesnt play sounds
    
    key.classList.add('playing');
    audio.currentTime = 0;
    audio.play();
}

const keys = Array.from(document.querySelectorAll('.key'));
keys.forEach(key => key.addEventListener('transitionend', removeTransition));
window.addEventListener('keydown', playSound);
</script>

</body>
</html>